<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/gameboard.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
  </head>

  <body>
    <!-- NAVIGATION BAR -->
    <nav id="navbar">
      <ul class="navbar">
        <button id="menuButton" style="background-color: #4b4b4b">MENU</button>
      </ul>
    </nav>

    <!-- PLAYER STATUS BAR -->
    <div class="players">
      <!-- PLAYER 1 -->
      <div class="player-container">
        <div class="player-self">
          <span class="material-symbols-outlined">person</span>
          <span class="player-prestige">0</span>
        </div>

        <p class="player-self-text">PLAYER 1</p>
      </div>

      <!-- PLAYER 2 -->
      <div class="player-container">
        <div
          class="player-other"
          onmouseover="openModal('playerStatusModal2');"
          onmouseleave="closeModal('playerStatusModal2');"
        >
          <div class="material-symbols-outlined">person</div>
          <div class="player-prestige">0</div>
        </div>

        <p class="player-other-text">PLAYER 2</p>
      </div>

      <!-- PLAYER 3 -->
      <div class="player-container">
        <div
          class="player-other"
          onmouseover="openModal('playerStatusModal3');"
          onmouseleave="closeModal('playerStatusModal3');"
        >
          <span class="material-symbols-outlined">person</span>
          <span class="player-prestige">0</span>
        </div>

        <p class="player-other-text">PLAYER 3</p>
      </div>

      <!-- PLAYER 4 -->
      <div class="player-container">
        <div
          class="player-other"
          onmouseover="openModal('playerStatusModal4');"
          onmouseleave="closeModal('playerStatusModal4');"
        >
          <span class="material-symbols-outlined">person</span>
          <span class="player-prestige">0</span>
        </div>

        <p class="player-other-text">PLAYER 4</p>
      </div>
    </div>

    <!-- GAMEBOARD -->
    <div class="board">
      <!-- TOKENS -->
      <div class="token-div">
        <div style="background: #e83131" class="token">
          <p class="token-text">2</p>
        </div>
        <div style="background: #3a94e8" class="token">
          <p class="token-text">2</p>
        </div>
        <div style="background: #2ea356" class="token">
          <p class="token-text">2</p>
        </div>
        <div style="background: #f2f2f2" class="token">
          <p class="token-text">2</p>
        </div>
        <div style="background: #7d4838" class="token">
          <p class="token-text">2</p>
        </div>
        <div style="background: #f1b032" class="token">
          <p class="token-text">2</p>
        </div>
      </div>

      <!-- NOBLES -->
      <div class="noble-div">
        <div class="noble">
          <img src="../images/noble-B-B-W.jpg">
        </div>
        <div class="noble">
          <img src="../images/noble-B-R-G.jpg">

        </div>
        <div class="noble">
          <img src="../images/noble-B-R-W.jpg">

        </div>
        <div class="noble">
          <img src="../images/noble-G-B-R.jpg">

        </div>
        <div class="noble">
          <img src="../images/noble-G-B-W.jpg">

        </div>
      </div>

      <!-- CARDS -->
      <div class="cards">
        <!-- ROW 1 -->
        <div class="card card-deck-blue">
          <img src="../images/BlueCard.png">
        </div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>

        <div class="card card-orient"></div>
        <div class="card card-orient"></div>
        <div class="card card-orient card-deck-orient"></div>

        <!-- ROW 2 -->
        <div class="card card-deck-yellow">
          <img src="../images/YellowCard.png">
        </div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>

        <div class="card card-orient"></div>
        <div class="card card-orient"></div>
        <div class="card card-orient card-deck-orient"></div>

        <!-- ROW 3 -->
        <div class="card card-deck-green">
          <img src="../images/GreenCard.png">
        </div>
        <div class="card">
          <img src="../images/G-G-0-3-1-1-0-0.png">
        </div>
        <div class="card">
          <img src="../images/G-G-1-1-0-1-2-0.png">
        </div>
        <div class="card">
          <img src="../images/G-G-1-2-0-1-1-0.png">
        </div>
        <div class="card">
          <img src="../images/G-G-2-1-0-0-2-0.png">
        </div>

        <div class="card card-orient"></div>
        <div class="card card-orient"></div>
        <div class="card card-orient card-deck-orient"></div>
      </div>
    </div>

    <!-- PLAYER INVENTORY -->
    <div class="player-inventory">
      <!-- PLAYER TOKENS -->
      <div class="inventory-tokens">
        <div style="background: #e83131" class="inv-token">
          <p class="inv-token-text">2</p>
        </div>
        <div style="background: #3a94e8" class="inv-token">
          <p class="inv-token-text">2</p>
        </div>
        <div style="background: #2ea356" class="inv-token">
          <p class="inv-token-text">2</p>
        </div>
        <div style="background: #f2f2f2" class="inv-token">
          <p class="inv-token-text">2</p>
        </div>
        <div style="background: #7d4838" class="inv-token">
          <p class="inv-token-text">2</p>
        </div>
        <div style="background: #f1b032" class="inv-token">
          <p class="inv-token-text">2</p>
        </div>
      </div>

      <!-- PLAYER HAND -->
      <div class="inventory-hand">
        <!-- Player Hand Modal-->
        <div id="playerHandModal" class="player-hand-modal">
          <div class="player-hand-modal-content">
            <div class="status-all-discounts-hand">
              <div class="status-discount-hand">
                <div
                  class="status-discount-color"
                  style="background-color: #e83131"
                ></div>
                <p style="text-align: center">2</p>
              </div>
              <div class="status-discount-hand">
                <div
                  class="status-discount-color"
                  style="background-color: #3a94e8"
                ></div>
                <p style="text-align: center">2</p>
              </div>
              <div class="status-discount-hand">
                <div
                  class="status-discount-color"
                  style="background-color: #2ea356"
                ></div>
                <p style="text-align: center">2</p>
              </div>
              <div class="status-discount-hand">
                <div
                  class="status-discount-color"
                  style="background-color: white"
                ></div>
                <p style="text-align: center">2</p>
              </div>
              <div class="status-discount-hand">
                <div
                  class="status-discount-color"
                  style="background-color: #7d4838"
                ></div>
                <p style="text-align: center">2</p>
              </div>
              <div class="status-discount-hand">
                <div
                  class="status-discount-color"
                  style="background-color: #f1b032"
                ></div>
                <p style="text-align: center">2</p>
              </div>
            </div>
          </div>
        </div>

        <p style="cursor: pointer" class="hand-text">HAND</p>
      </div>

      <!-- FOR TESTING PURPOSES -->
      <div class="inventory-hand">
        <p
          style="cursor: pointer"
          onclick="openModal('actionModal')"
          class="hand-text"
        >
          SELECT ACTION MODAL TESTING
        </p>
      </div>

      <!-- RESERVED CARDS -->
      <div class="inventory-reserved-cards">
        <div class="reserved-card"></div>
        <div class="reserved-card"></div>
        <div class="reserved-card"></div>
      </div>
    </div>

    <br />

    <!-- Game Menu Modal -->


    <!-- Select Action Modal -->
    <div id="actionModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal('actionModal');"
          >&times;</span
        >
        <h1 class="modal-text">YOUR TURN!</h1>
        <h3 class="modal-text">(Choose an action)</h3>
        <div
          class="modal-button modal-text"
          onclick="closeModal('actionModal'); openModal('selectTokenModal')"
        >
          <h2>GET TOKENS</h2>
        </div>
        <div
          class="modal-button modal-text"
          onclick="closeModal('actionModal'); openModal('purchaseCardModal')"
        >
          <h2>PURCHASE CARD</h2>
        </div>
        <div
          class="modal-button modal-text"
          onclick="closeModal('actionModal'); openModal('reserveCardModal')"
        >
          <h2>RESERVE CARD</h2>
        </div>
      </div>
    </div>

    <!-- Select Tokens Modal -->
    <div id="selectTokenModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal('selectTokenModal');"
          >&times;</span
        >
        <div class="select-token-modal">
          <div class="select-tokens">
            <div style="background: #e83131" class="select-token">
              <p class="select-token-text">2</p>
            </div>
            <div style="background: #3a94e8" class="select-token">
              <p class="select-token-text">2</p>
            </div>
            <div style="background: #2ea356" class="select-token">
              <p class="select-token-text">2</p>
            </div>
            <div style="background: #f2f2f2" class="select-token">
              <p class="select-token-text">2</p>
            </div>
            <div style="background: #7d4838" class="select-token">
              <p class="select-token-text">2</p>
            </div>
            <div style="background: #f1b032" class="select-token">
              <p class="select-token-text">2</p>
            </div>
          </div>
          <h2 class="you-chose-text">YOU CHOSE:</h2>
          <div class="plus-minus-all">
            <div class="plus-minus">
              <div class="plus-minus-button">+</div>
              <div style="background: #e83131" class="plus-minus-token">
                <p class=".select-token-text">0</p>
              </div>
              <div class="plus-minus-button">-</div>
            </div>
            <div class="plus-minus">
              <div class="plus-minus-button">+</div>
              <div style="background: #3a94e8" class="plus-minus-token">
                <p class=".select-token-text">0</p>
              </div>
              <div class="plus-minus-button">-</div>
            </div>
            <div class="plus-minus">
              <div class="plus-minus-button">+</div>
              <div style="background: #2ea356" class="plus-minus-token">
                <p class=".select-token-text">0</p>
              </div>
              <div class="plus-minus-button">-</div>
            </div>
            <div class="plus-minus">
              <div class="plus-minus-button">+</div>
              <div style="background: #f2f2f2" class="plus-minus-token">
                <p class=".select-token-text">0</p>
              </div>
              <div class="plus-minus-button">-</div>
            </div>
            <div class="plus-minus">
              <div class="plus-minus-button">+</div>
              <div style="background: #7d4838" class="plus-minus-token">
                <p class=".select-token-text">0</p>
              </div>
              <div class="plus-minus-button">-</div>
            </div>
            <div class="plus-minus">
              <div class="plus-minus-button">+</div>
              <div style="background: #f1b032" class="plus-minus-token">
                <p class=".select-token-text">0</p>
              </div>
              <div class="plus-minus-button">-</div>
            </div>
          </div>
          <div
            class="modal-button modal-text"
            onclick="closeModal('selectTokenModal')"
          >
            <h2>CONFIRM</h2>
          </div>
        </div>
      </div>
    </div>

    <!-- Purchase Card Modal -->
    <div id="purchaseCardModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal('purchaseCardModal');"
          >&times;</span
        >
        <p>Some text in the Modal..</p>
      </div>
    </div>

    <!-- Reserve Card Modal -->
    <div id="reserveCardModal" class="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal('reserveCardModal');"
          >&times;</span
        >
        <p>Some text in the Modal..</p>
      </div>
    </div>

    <!-- Player Status Modal -->
    <div id="playerStatusModal2" class="player-status-modal">
      <div class="player-status-modal-content player-2">
        <div class="status-reserved-cards">
          <div class="status-reserved-card"></div>
          <div class="status-reserved-card"></div>
          <div class="status-reserved-card"></div>
        </div>
        <div class="status-all-discounts">
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #e83131"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #3a94e8"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #2ea356"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: white"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #7d4838"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #f1b032"
            ></div>
            <p style="text-align: center">2</p>
          </div>
        </div>
        <div class="status-tokens">
          <div style="background: #e83131" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #3a94e8" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #2ea356" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #f2f2f2" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #7d4838" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #f1b032" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
        </div>
      </div>
    </div>

    <div id="playerStatusModal3" class="player-status-modal">
      <div class="player-status-modal-content player-3">
        <div class="status-reserved-cards">
          <div class="status-reserved-card"></div>
          <div class="status-reserved-card"></div>
          <div class="status-reserved-card"></div>
        </div>
        <div class="status-all-discounts">
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #e83131"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #3a94e8"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #2ea356"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: white"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #7d4838"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #f1b032"
            ></div>
            <p style="text-align: center">2</p>
          </div>
        </div>
        <div class="status-tokens">
          <div style="background: #e83131" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #3a94e8" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #2ea356" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #f2f2f2" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #7d4838" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #f1b032" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
        </div>
      </div>
    </div>

    <div id="playerStatusModal4" class="player-status-modal">
      <div class="player-status-modal-content player-4">
        <div class="status-reserved-cards">
          <div class="status-reserved-card"></div>
          <div class="status-reserved-card"></div>
          <div class="status-reserved-card"></div>
        </div>
        <div class="status-all-discounts">
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #e83131"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #3a94e8"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #2ea356"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: white"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #7d4838"
            ></div>
            <p style="text-align: center">2</p>
          </div>
          <div class="status-discount">
            <div
              class="status-discount-color"
              style="background-color: #f1b032"
            ></div>
            <p style="text-align: center">2</p>
          </div>
        </div>
        <div class="status-tokens">
          <div style="background: #e83131" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #3a94e8" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #2ea356" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #f2f2f2" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #7d4838" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
          <div style="background: #f1b032" class="inv-token">
            <p class="inv-token-text">2</p>
          </div>
        </div>
      </div>
    </div>

    <!-- The Modal -->
    <div id="menuPop" class="myMenu">
      <!-- <h1 id="sidebar">MENU</h1> -->
      <a onclick="closeMenu()">RESUME</a>
      <a onclick="handleSave()">SAVE</a>
      <a onclick="handleRestart()">RESTART</a>
      <a href="login.html">QUIT</a>
    </div>

    <div id="saveGamePop" class="saveGame">
      <div class="saveGame-content">
        <span class="modal-close" onclick="closeModal('saveGamePop');"
        >&times;</span>
        <h1 id="savingGameHeader">PLEASE NAME YOUR GAME FILE</h1>
        <form autocomplete="off">
          <input type="text" id="saveText" />
        </form>
        <div
            class="menu-save-restart-button"
            id="saveSubmit"
            onclick="saved()"
          >SAVE</div>
          <div
            class="menu-save-restart-button"
            id="saveBack"
            onclick="closeSavePop()"
          >BACK</div>
      </div>
    </div>

    <div id="gameSaved" class="savedPop">
      <div class="saved-content">
        <span class="modal-close" onclick="closeModal('gameSaved');"
          >&times;</span>
        <h1 id="savedHeader">GAME SAVED!</h1>
      </div>
    </div>

    <div id="restartGamePop" class="restartGame">
      <div class="restartGame-content">
        <span class="modal-close" onclick="closeModal('restartGamePop');"
        >&times;</span>
        <h1 id="restartGameHeader">RESTART GAME?</h1>
        <h2 id="playerRestartCount">1/4</h2>
        <div
          class="menu-save-restart-button"
          id="restartYes"
          onclick="getRestartCount()"
        >YES</div>
        <div class="menu-save-restart-button" id="restartNo">NO
        </div>
      </div>
    </div>

    <script>
      // Get the modal
      const menuButton = document.getElementById("menuButton");
      const menuPop = document.getElementById("menuPop");
      const resumeButton = document.getElementById("resumeGame");
      const menuWholeButton = document.getElementById("menuHolder");
      const saveName = document.getElementById("saveText");

      //save
      const savePop = document.getElementById("saveGamePop");
      const backButton = document.getElementById("saveBack");
      const savedPop = document.getElementById("gameSaved");
      let menuStatus = false;

      //restart
      const restartGamePop = document.getElementById("restartGamePop");
      const restartCount = document.getElementById("playerRestartCount");

      const openMenu = (e) => {
        menuPop.style.width = "250px";
        menuStatus = true;
      };
      const closeMenu = (e) => {
        menuPop.style.width = "0px";
        menuStatus = false;
      };

      const handleMenu = (e) => {
        if (menuStatus) {
          closeMenu();
        } else {
          openMenu();
        }
      };

      const handleSave = (e) => {
        savePop.style.display = "block";
      };

      const handleRestart = (e) => {
        closeMenu();
        restartGamePop.style.display = "block";
      };

      const saved = (e) => {
        savePop.style.display = "none";
        saveName.value = "";
        savedPop.style.display = "block";
        savedPopStatus = true;
      };

      const closeSavePop = (e) => {
        saveName.value = "";
        savePop.style.display = "none";
      };

      const getRestartCount = (e) => {
        const tmp = restartCount.innerHTML;
        if (tmp == "1/4") {
          restartCount.innerHTML = "2/4";
        } else if (tmp == "2/4") {
          restartCount.innerHTML = "3/4";
        } else if (tmp == "3/4") {
          restartCount.innerHTML = "4/4";
        }
      };

      window.addEventListener("click", function (e) {
        if (!menuStatus && e.target === menuButton) {
          openMenu();
        } else if (menuStatus && e.target !== menuPop) {
          closeMenu();
        }
      });

      // When the user clicks on <span> (x), modal-close the modal
      var closeModal = function (id) {
        document.getElementById(id).style.display = "none";
      };

      var openModal = function (id) {
        document.getElementById(id).style.display = "block";
      };

      // When the user clicks anywhere outside of the modal, modal-close it
      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };
    </script>
  </body>
</html>
